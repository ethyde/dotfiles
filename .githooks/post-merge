#!/bin/bash
#==============================================================================
# Hook Git post-merge
# Corrige automatiquement les permissions des scripts apr√®s un git pull/merge
#==============================================================================

# Obtenir le r√©pertoire racine du projet
REPO_ROOT="$(git rev-parse --show-toplevel)"
FIX_SCRIPT="$REPO_ROOT/bin/fix-permissions.sh"

# V√©rifier si le script de correction existe
if [ -f "$FIX_SCRIPT" ]; then
    echo "üîß Correction automatique des permissions apr√®s merge..."
    "$FIX_SCRIPT" --fix > /dev/null 2>&1
    if [ $? -eq 0 ]; then
        echo "‚úÖ Permissions corrig√©es automatiquement"
    else
        echo "‚ö†Ô∏è  Erreur lors de la correction des permissions"
    fi
else
    echo "‚ö†Ô∏è  Script bin/fix-permissions.sh non trouv√©, permissions non v√©rifi√©es"
fi 