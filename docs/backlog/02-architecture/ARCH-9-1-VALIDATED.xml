# ARCH-9-1 : Architecture Serveurs MCP Shell Natifs S√©curis√©s

---

## DO NOT EDIT THIS SECTION MANUALLY
**PBI Parent:** [PBI-9-PROPOSED.xml](../00-pbi/PBI-9-PROPOSED.xml)
**Document d'Architecture:** [ARCH-9-1.xml](../02-architecture/ARCH-9-1.xml)
**Assign√© √†:** `Architecture Team`
**Branche Git:** `feature/arch-9-1-mcp-shell-security`

---

## 1. Probl√®me √† R√©soudre

L'impl√©mentation de serveurs MCP shell natifs √©tendus (TASK-9-1 et TASK-9-2) pr√©sente deux d√©fis architecturaux critiques :

### 1.1. S√©curit√© de l'Ex√©cution Shell (TASK-9-1 : safe_shell)

**D√©fi :** Impl√©menter un outil `safe_shell` en shell natif qui offre le m√™me niveau de s√©curit√© que le serveur Node.js, sans les m√©canismes de sandboxing avanc√©s.

**Complexit√© :**
- Validation robuste des commandes sans librairies de s√©curit√©
- Gestion des timeouts sans API asynchrone native
- Protection contre l'injection de commandes
- Gestion des erreurs et des cas limites

### 1.2. Parsing JSON Natif Fiable (TASK-9-2 : project_info)

**D√©fi :** Impl√©menter un parsing JSON robuste en shell pur pour extraire les informations de projet (package.json, configuration) sans d√©pendances externes.

**Complexit√© :**
- Parsing JSON complexe sans `jq` (optionnel)
- Gestion des structures imbriqu√©es
- Robustesse face aux formats JSON vari√©s
- Performance sur gros fichiers JSON

### 1.3. Contraintes Architecturales

- **Universalit√©** : Doit fonctionner sur tous les syst√®mes Unix sans d√©pendances
- **S√©curit√©** : Niveau √©quivalent au serveur Node.js
- **Performance** : Sup√©rieure au serveur Node.js (+50% vis√©)
- **Maintenabilit√©** : Code shell standard, lisible et testable

## 2. Options Explor√©es et Analyse des Compromis (Trade-Offs)

### Option A : Approche S√©curit√© Stricte avec Whitelist Statique

**Description :**
- Whitelist statique de commandes autoris√©es cod√©e en dur
- Validation stricte des arguments par regex
- Timeout impl√©ment√© via `timeout` syst√®me
- Parsing JSON manuel avec sed/awk/grep uniquement

**Avantages :**
- ‚úÖ S√©curit√© maximale (surface d'attaque minimale)
- ‚úÖ 0 d√©pendances garanties
- ‚úÖ Performance optimale (pas de parsing complexe)
- ‚úÖ Simplicit√© de maintenance

**Inconv√©nients :**
- ‚ùå Flexibilit√© limit√©e (pas d'extension dynamique)
- ‚ùå Parsing JSON basique (structures simples uniquement)
- ‚ùå Maintenance manuelle de la whitelist
- ‚ùå Risque de r√©gression sur JSON complexes

### Option B : Approche Hybride avec D√©tection Intelligente

**Description :**
- D√©tection automatique de `jq` avec fallback manuel
- Whitelist configurable via fichier externe
- Validation adaptative selon l'environnement
- Parsing JSON hybride (jq si disponible, manuel sinon)

**Avantages :**
- ‚úÖ Flexibilit√© maximale (s'adapte √† l'environnement)
- ‚úÖ Parsing JSON robuste avec `jq`
- ‚úÖ Configuration externalis√©e
- ‚úÖ √âvolutivit√© (ajout de nouvelles commandes)

**Inconv√©nients :**
- ‚ùå Complexit√© accrue (gestion de 2 modes)
- ‚ùå D√©pendance optionnelle √† `jq`
- ‚ùå Surface d'attaque plus large
- ‚ùå Tests plus complexes (2 chemins √† valider)

### Option C : Approche Progressive avec Profils de S√©curit√©

**Description :**
- 3 profils de s√©curit√© : STRICT, STANDARD, EXTENDED
- Escalation automatique selon les besoins
- Parsing JSON avec librairie shell minimaliste int√©gr√©e
- Validation contextuelle selon le profil

**Avantages :**
- ‚úÖ √âquilibre s√©curit√©/flexibilit√©
- ‚úÖ Adaptation selon le contexte d'usage
- ‚úÖ Parsing JSON robuste sans d√©pendance externe
- ‚úÖ √âvolutivit√© contr√¥l√©e

**Inconv√©nients :**
- ‚ùå Complexit√© architecturale √©lev√©e
- ‚ùå Librairie JSON √† maintenir
- ‚ùå Logique de profils √† impl√©menter
- ‚ùå Risque de sur-ing√©nierie

## 3. D√©cision et Justification

**Option Retenue : B - Approche Hybride Intelligente (Adapt√©e)**

**Justification :**

Bas√© sur les contraintes clarifi√©es :
- **Contexte local** : S√©curit√© mod√©r√©e suffisante
- **√âvolutivit√© importante** : Whitelist configurable n√©cessaire  
- **JSON simple** : Structures actuelles (package.json, config) ne n√©cessitent pas de parsing complexe
- **Installation `jq`** : Ajout√©e √† `apps.sh` avec fallback robuste

**Adaptations de l'Option B :**

1. **Installation `jq` Standard** : Ajout dans `apps.sh` pour installation automatique
2. **Fallback JSON Simplifi√©** : Parsing manuel optimis√© pour structures simples (name, version, description)
3. **Whitelist Configurable** : Fichier externe pour √©volutivit√©
4. **S√©curit√© Adapt√©e** : Validation stricte mais sans over-engineering

**Compromis Accept√©s :**
- ‚úÖ L√©g√®re complexit√© pour gain de flexibilit√©
- ‚úÖ D√©pendance `jq` avec installation automatique et fallback
- ‚úÖ Deux chemins de parsing mais structures simples

**Avantages D√©cisifs :**
- üéØ **√âvolutivit√©** : Whitelist et commandes extensibles
- üöÄ **Performance** : `jq` quand disponible, fallback optimis√©
- üîß **Maintenance** : Installation automatique via `apps.sh`
- üåç **Universalit√©** : Fonctionne avec et sans `jq`

## 4. Sch√©ma de la Solution

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                 Serveur MCP Shell Natif                    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                             ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ   safe_shell    ‚îÇ    ‚îÇ        project_info             ‚îÇ ‚îÇ
‚îÇ  ‚îÇ                 ‚îÇ    ‚îÇ                                 ‚îÇ ‚îÇ
‚îÇ  ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ    ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ ‚îÇ
‚îÇ  ‚îÇ ‚îÇ Whitelist   ‚îÇ ‚îÇ    ‚îÇ ‚îÇ JSON Parser ‚îÇ ‚îÇ Git Info    ‚îÇ ‚îÇ ‚îÇ
‚îÇ  ‚îÇ ‚îÇ Validator   ‚îÇ ‚îÇ    ‚îÇ ‚îÇ             ‚îÇ ‚îÇ Extractor   ‚îÇ ‚îÇ ‚îÇ
‚îÇ  ‚îÇ ‚îÇ             ‚îÇ ‚îÇ    ‚îÇ ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ ‚îÇ             ‚îÇ ‚îÇ ‚îÇ
‚îÇ  ‚îÇ ‚îÇ commands.   ‚îÇ ‚îÇ    ‚îÇ ‚îÇ  ‚îÇ  jq   ‚îÇ  ‚îÇ ‚îÇ branch,     ‚îÇ ‚îÇ ‚îÇ
‚îÇ  ‚îÇ ‚îÇ whitelist   ‚îÇ ‚îÇ    ‚îÇ ‚îÇ  ‚îÇ avail?‚îÇ  ‚îÇ ‚îÇ status,     ‚îÇ ‚îÇ ‚îÇ
‚îÇ  ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ    ‚îÇ ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ ‚îÇ remote      ‚îÇ ‚îÇ ‚îÇ
‚îÇ  ‚îÇ                 ‚îÇ    ‚îÇ ‚îÇ      ‚îÇ      ‚îÇ ‚îÇ             ‚îÇ ‚îÇ ‚îÇ
‚îÇ  ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ    ‚îÇ ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ ‚îÇ
‚îÇ  ‚îÇ ‚îÇ Timeout     ‚îÇ ‚îÇ    ‚îÇ ‚îÇ  ‚îÇManual ‚îÇ  ‚îÇ                 ‚îÇ ‚îÇ
‚îÇ  ‚îÇ ‚îÇ Handler     ‚îÇ ‚îÇ    ‚îÇ ‚îÇ  ‚îÇParser ‚îÇ  ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ ‚îÇ
‚îÇ  ‚îÇ ‚îÇ             ‚îÇ ‚îÇ    ‚îÇ ‚îÇ  ‚îÇ(sed/  ‚îÇ  ‚îÇ ‚îÇ Aklo Config ‚îÇ ‚îÇ ‚îÇ
‚îÇ  ‚îÇ ‚îÇ 30s default ‚îÇ ‚îÇ    ‚îÇ ‚îÇ  ‚îÇawk/   ‚îÇ  ‚îÇ ‚îÇ Reader      ‚îÇ ‚îÇ ‚îÇ
‚îÇ  ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ    ‚îÇ ‚îÇ  ‚îÇgrep)  ‚îÇ  ‚îÇ ‚îÇ             ‚îÇ ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ ‚îÇ .aklo.conf  ‚îÇ ‚îÇ ‚îÇ
‚îÇ                         ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ  ‚îÇ aklo_execute    ‚îÇ                                        ‚îÇ
‚îÇ  ‚îÇ (extended)      ‚îÇ    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ                 ‚îÇ    ‚îÇ        aklo_status              ‚îÇ ‚îÇ
‚îÇ  ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ    ‚îÇ        (extended)               ‚îÇ ‚îÇ
‚îÇ  ‚îÇ ‚îÇ Command     ‚îÇ ‚îÇ    ‚îÇ                                 ‚îÇ ‚îÇ
‚îÇ  ‚îÇ ‚îÇ Validator   ‚îÇ ‚îÇ    ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ ‚îÇ
‚îÇ  ‚îÇ ‚îÇ             ‚îÇ ‚îÇ    ‚îÇ ‚îÇ Metrics     ‚îÇ ‚îÇ Artifact    ‚îÇ ‚îÇ ‚îÇ
‚îÇ  ‚îÇ ‚îÇ aklo cmds   ‚îÇ ‚îÇ    ‚îÇ ‚îÇ Calculator  ‚îÇ ‚îÇ Counter     ‚îÇ ‚îÇ ‚îÇ
‚îÇ  ‚îÇ ‚îÇ whitelist   ‚îÇ ‚îÇ    ‚îÇ ‚îÇ             ‚îÇ ‚îÇ             ‚îÇ ‚îÇ ‚îÇ
‚îÇ  ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ    ‚îÇ ‚îÇ PBI count,  ‚îÇ ‚îÇ PBI, TASK,  ‚îÇ ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ ‚îÇ Task count, ‚îÇ ‚îÇ DEBUG, etc. ‚îÇ ‚îÇ ‚îÇ
‚îÇ                         ‚îÇ ‚îÇ Git status  ‚îÇ ‚îÇ by status   ‚îÇ ‚îÇ ‚îÇ
‚îÇ                         ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ ‚îÇ
‚îÇ                         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

Configuration Files:
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ commands.       ‚îÇ    ‚îÇ apps.sh         ‚îÇ
‚îÇ whitelist       ‚îÇ    ‚îÇ                 ‚îÇ
‚îÇ                 ‚îÇ    ‚îÇ brew install jq ‚îÇ
‚îÇ - ls            ‚îÇ    ‚îÇ (automatic)     ‚îÇ
‚îÇ - cat           ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îÇ - grep          ‚îÇ
‚îÇ - git           ‚îÇ
‚îÇ - npm           ‚îÇ
‚îÇ - node          ‚îÇ
‚îÇ - cd            ‚îÇ
‚îÇ - pwd           ‚îÇ
‚îÇ - echo          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## 5. Impact sur les T√¢ches

### 5.1. TASK-9-1 : safe_shell - Modifications Requises

**Ajouts √† impl√©menter :**
1. **Fichier de configuration** : `aklo/config/commands.whitelist`
2. **Fonction de validation hybride** : Support whitelist configurable
3. **Gestion timeout robuste** : Via commande `timeout` syst√®me
4. **Logs s√©curis√©s** : Tra√ßabilit√© des commandes ex√©cut√©es

**Nouveau scope TASK-9-1 :**
- Cr√©ation du fichier whitelist configurable
- Impl√©mentation validation dynamique des commandes
- Gestion timeout avec fallback gracieux
- Tests de s√©curit√© avec commandes interdites

### 5.2. TASK-9-2 : project_info - Modifications Requises

**Ajouts √† impl√©menter :**
1. **D√©tection automatique `jq`** : `command -v jq >/dev/null 2>&1`
2. **Parser JSON hybride** : jq prioritaire, fallback manuel
3. **Optimisation fallback** : Parsing simple pour structures package.json
4. **Gestion erreurs robuste** : Fichiers manquants, JSON malform√©

**Nouveau scope TASK-9-2 :**
- Impl√©mentation d√©tection `jq` automatique
- Parser hybride optimis√© pour structures simples
- Extraction Git info robuste
- Tests avec et sans `jq` disponible

### 5.3. Nouvelles Tasks Cr√©√©es

**TASK-9-6 : Configuration et documentation hybride**
- Cr√©ation fichier `commands.whitelist`
- Documentation architecture hybride
- Guide installation `jq` via `apps.sh`
- Tests d'int√©gration multi-environnements

### 5.4. Validation Architecture

‚úÖ **Architecture valid√©e** - Pr√™te pour passage au statut `AWAITING_REVIEW`
‚úÖ **Impact sur tasks d√©fini** - Modifications claires et r√©alisables  
‚úÖ **Installation `jq` ajout√©e** - Dans `apps.sh` pour automatisation
‚úÖ **Fallback robuste** - Fonctionne sans d√©pendances externes