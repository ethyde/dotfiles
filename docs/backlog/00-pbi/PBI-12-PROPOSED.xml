# PBI-12 : Ajouter commandes MCP √©tendues √† aklo

## üìã Description

√âtendre la commande `aklo mcp` existante avec deux nouvelles sous-commandes pour am√©liorer l'exp√©rience utilisateur et la gestion des serveurs MCP.

## üéØ Objectif M√©tier

- **Simplicit√©** : Acc√®s direct aux configurations MCP via aklo
- **Flexibilit√©** : Support configuration simple et avanc√©e
- **Monitoring** : Visibilit√© sur l'√©tat des serveurs MCP
- **Coh√©rence** : Interface unifi√©e pour toutes les op√©rations MCP

## üîç Analyse Actuelle

### Commandes MCP Existantes
- ‚úÖ `aklo mcp setup` ‚Üí `setup-mcp.sh`
- ‚úÖ `aklo mcp restart` ‚Üí `restart-mcp.sh`
- ‚úÖ `aklo mcp watch` ‚Üí `watch-mcp.sh`

### Scripts MCP Disponibles Non Int√©gr√©s
- `generate-config.sh` : Configuration simple et rapide
- `generate-config-universal.sh` : Configuration multi-clients avec options
- `aklo-mcp.sh status` : √âtat d√©taill√© des serveurs MCP

## üéØ Nouvelles Commandes √† Ajouter

### 1. `aklo mcp config` - G√©n√©ration de Configuration

**Comportement** :
- **Sans arguments** : `generate-config.sh` (rapide et simple)
- **Avec arguments** : `generate-config-universal.sh` avec arguments pass√©s

**Exemples d'usage** :
```bash
# Configuration simple (JSON pur)
aklo mcp config > ~/.cursor-mcp.json

# Configuration pour Claude Desktop
aklo mcp config claude-desktop

# Configuration pour Cursor avec shell uniquement
aklo mcp config cursor --shell-only

# Toutes les configurations
aklo mcp config all

# Aide
aklo mcp config --help
```

### 2. `aklo mcp status` - √âtat des Serveurs

**Comportement** :
- Appelle `aklo-mcp.sh status`
- Affiche l'√©tat d√©taill√© des serveurs MCP
- Inclut m√©triques et diagnostics

**Exemples d'usage** :
```bash
# √âtat des serveurs MCP
aklo mcp status

# √âtat avec d√©tails √©tendus (si support√©)
aklo mcp status --detailed
```

## üõ†Ô∏è Impl√©mentation Technique

### Architecture Scripts MCP
**Confirmation des d√©pendances** :
- ‚úÖ `setup-mcp.sh` ‚Üí utilise `auto-detect.sh`
- ‚úÖ `install.sh`, `install-node.sh` ‚Üí scripts d'assistance
- ‚úÖ Tous les scripts sont dans `modules/mcp/`

### Modifications Requises

#### 1. Mise √† Jour `bin/aklo`
```bash
# Dans command_mcp()
case "$action" in
    "config")
        shift  # Enlever 'config'
        if [ $# -eq 0 ]; then
            # Sans arguments : script simple
            "${modules_dir}/mcp/generate-config.sh"
        else
            # Avec arguments : script universel
            "${modules_dir}/mcp/generate-config-universal.sh" "$@"
        fi
        ;;
    "status")
        shift  # Enlever 'status'
        "${modules_dir}/mcp/aklo-mcp.sh" status "$@"
        ;;
    # ... autres commandes existantes
esac
```

#### 2. Mise √† Jour Documentation
- Ajouter les nouvelles commandes dans le help
- Mettre √† jour README.xml avec exemples
- Documenter les options avanc√©es

#### 3. Mise √† Jour Chemins
- V√©rifier que tous les chemins pointent vers `modules/mcp/`
- S'assurer que `aklo-mcp.sh` existe et fonctionne

## üìä Crit√®res d'Acceptation

- [ ] `aklo mcp config` sans arguments utilise `generate-config.sh`
- [ ] `aklo mcp config <args>` utilise `generate-config-universal.sh`
- [ ] `aklo mcp status` utilise `aklo-mcp.sh status`
- [ ] Tous les arguments sont correctement pass√©s
- [ ] Messages d'aide mis √† jour
- [ ] Documentation README.xml mise √† jour
- [ ] Tests fonctionnels pour toutes les nouvelles commandes
- [ ] R√©trocompatibilit√© pr√©serv√©e

## üîó D√©pendances

- Scripts existants dans `modules/mcp/`
- V√©rification existence `aklo-mcp.sh`
- Mise √† jour chemins si n√©cessaire

## üìà Impact Attendu

- **UX** : +200% (acc√®s direct aux configs)
- **Adoption** : +150% (simplicit√© d'usage)
- **Efficacit√©** : +100% (moins de navigation manuelle)
- **Coh√©rence** : +300% (interface unifi√©e)

## üóìÔ∏è Estimation

**Complexit√©** : Faible (1-2 jours)
**Priorit√©** : Moyenne (am√©lioration UX)

---

**Status** : PROPOSED
**Created** : 2025-01-28
**Owner** : CLI Team