# https://gist.github.com/pksunkara/988716
# http://www.git-attitude.fr/2013/04/03/configuration-git/
[core]
	editor = code --wait
	# Don't consider trailing space change as a cause for merge conflicts
	whitespace = -trailing-space
	excludesfile = ~/Projects/Labs/dotfiles/git/.gitignore_global
	# need Git 2.9
	# Source : http://stackoverflow.com/questions/1977610/change-default-git-hooks/37293001#37293001
	hooksPath = ~/Projects/Labs/dotfiles/git/githooks
[diff]
	# Use better, descriptive initials (c, i, w) instead of a/b.
	# c for Commit (generaly  HEAD)
	# i for Index (stage)
	# w for Working directory
	mnemonicPrefix = true
	# define default-difftool has diff tool.
	tool = default-difftool
	# When using --word-diff, assume --word-diff-regex=.
	wordRegex = .
[difftool "default-difftool"]
	cmd = code --wait --diff $LOCAL $REMOTE
[commit]
	template = ~/Projects/Labs/dotfiles/git/.gitmessage
	status = true # add/remove default commit msg
	verbose = true # Git commit --verbose by default : https://github.com/git/git/blob/v2.9.0/Documentation/RelNotes/2.9.0.txt#L150
[push]
	# Default push should only push the current branch to its push target, regardless of its remote name
	default = upstream
[gitflow "prefix"]
	feature = feature/
	release = release/
	hotfix = hotfix/
	support = support/
	versiontag = v
[color]
	ui = auto
[color "branch"]
	current = yellow bold
	local = green bold
	remote = cyan bold
[color "diff"]
	meta = yellow bold
	frag = magenta bold
	old = red bold
	new = green bold
	whitespace = red reverse
[color "status"]
	added = green bold
	changed = yellow bold
	untracked = red bold
[merge]
	# Display common-ancestor blocks in conflict hunks
	conflictStyle = diff3
[log]
	# Use abbrev SHAs whenever possible/relevant instead of full 40 chars
	abbrevCommit = true
[url "https://github.com/"]
	# use Shorcut for repo
	# Usage : $ git clone gh:walesmd/walesmd.github.io
	# Source : http://michaelwales.com/articles/make-gitconfig-work-for-you/
    insteadOf = gh:
[alias]
	# Tools =====
	# Get the current branch name =====
	# (not so useful in itself, but can be used in other aliases)
	# Source : https://gist.github.com/robmiller/6018582
	branch-name	= "!git rev-parse --abbrev-ref HEAD"
	# Set Upstream =====
	# Source : http://aaronbonner.io/post/80766268890/git-alias-to-simplify-setting-upstream-branch
	su	= "!git branch --set-upstream-to=origin/`git symbolic-ref --short HEAD`"
	# List All .gitconfig Alias
	# Source : http://stackoverflow.com/a/11613251/2435786
	#          https://github.com/sjas/.dotfiles/blob/master/git/.gitconfig
	# FIXME: wait for reply https://github.com/sjas/.dotfiles/issues/2
	# Basic 
	# la	= "!grep '\t=' ~/.gitconfig | less"
	# Advenced with color
	# laa	= "!grep '\t=' ~/.gitconfig | sed -e 's/=/^[[0;31m=^[[0m/g' | sed -e 's/#.*/^[[0;32m&^[[0m/g' | less -R"
	# Pretty Log =====
	lg	= log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit --date=relative
	# Source for following Alias https://thestandardoutput.com/posts/useful-git-aliases/
	# List commits as above but also showing changed files. =====
	ll	= log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue) %Creset' --abbrev-commit --decorate --numstat
	# List UnPuShed Commit =====
	ups	= log --branches --not --remotes --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)%Creset' --abbrev-commit
	# Add All And Commit =====
	aac	= !git aa && git c
	# Same as above but make a quick commit after =====
	save	= !git aac -m "SAVEPOINT"
	# Find alias and list all who match =====
	# Source : http://brettterpstra.com/2014/08/04/shell-tricks-one-git-alias-to-rule-them-all/
	fa = "!grepalias() { git config --global --get-regexp alias | grep -i \"$1\" | awk -v nr=2 '{sub(/^alias\\./,\"\")};{printf \"\\033[31m%_10s\\033[1;37m\", $1};{sep=FS};{for (x=nr; x<=NF; x++) {printf \"%s%s\", sep, $x; }; print \"\\033[0;39m\"}'; }; grepalias"
	# Add =====
	a	= add
	aa	= add --all
	ai	= add --interactive
	# Branch =====
	b	= branch
	ba	= branch --all
	bd	= branch --delete
	bm	= branch --move
	# Commit =====
	c	= commit
	ca	= commit --amend
	# Checkout =====
	co	= checkout
	cob	= checkout -b
	# Diff =====
	d	= diff
	dcw	= diff --color-words
	dwd	= diff --word-diff
	dt	= difftool
	# Fetch =====
	f	= fetch
	fo	= fetch origin
	fu	= fetch upstream
	# Merge =====
	m	= merge
	ma	= merge --abort
	mc	= merge --continue
	ms	= merge --skip
	# Pull =====
	pl	= pull
	plo	= pull origin
	plr	= pull --rebase
	# Push =====
	ps	= push
	pso	= push origin
	# Rebase =====
	rb	= rebase
	rba	= rebase --abort
	rbc	= rebase --continue
	rbi	= rebase --interactive
	rbs	= rebase --skip
	# Reset =====
	re	= reset
	rh	= reset HEAD
	reh	= reset --hard
	rem	= reset --mixed
	res	= reset --soft
	rehh	= reset --hard HEAD
	remh	= reset --mixed HEAD
	resh	= reset --soft HEAD
	# Status =====
	s	= status
[user]
	name = Emmanuel Plouvier
	email = eplouvier@prismamedia.com
